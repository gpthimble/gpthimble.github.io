<!DOCTYPE html>
<html class="has-navbar-fixed-top">
<head>
    <meta charset="utf-8">
<title>Cache设计与实现 I - Thimble&#39;s Blog</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.css">


<link href="/en/Cache%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/" rel="alternate" hreflang="en" />
    


<meta name="description" content="">





    <meta name="description" content="&amp;#x672C;&amp;#x4EE5;&amp;#x4E3A;cache&amp;#x7684;&amp;#x8BBE;&amp;#x8BA1;&amp;#x5E76;&amp;#x4E0D;&amp;#x590D;&amp;#x6742;&amp;#xFF0C;&amp;#x4F46;&amp;#x5B9E;&amp;#x9645;&amp;#x8BBE;&amp;#x8BA1;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E2D;&amp;#xFF0C;&amp;#x6211;&amp;#x9047;&amp;#x5230;&amp;#x4E86;&amp;#x">
<meta property="og:type" content="article">
<meta property="og:title" content="Cache设计与实现 I">
<meta property="og:url" content="https://gpthimble.github.io/Cache%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/index.html">
<meta property="og:site_name" content="Thimble&#39;s Blog">
<meta property="og:description" content="&amp;#x672C;&amp;#x4EE5;&amp;#x4E3A;cache&amp;#x7684;&amp;#x8BBE;&amp;#x8BA1;&amp;#x5E76;&amp;#x4E0D;&amp;#x590D;&amp;#x6742;&amp;#xFF0C;&amp;#x4F46;&amp;#x5B9E;&amp;#x9645;&amp;#x8BBE;&amp;#x8BA1;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E2D;&amp;#xFF0C;&amp;#x6211;&amp;#x9047;&amp;#x5230;&amp;#x4E86;&amp;#x">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-10-26T02:15:25.000Z">
<meta property="article:modified_time" content="2020-10-26T09:50:48.883Z">
<meta property="article:author" content="Thimble">
<meta name="twitter:card" content="summary">





<link rel="icon" href="/favicon.png">


<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ovo|Source+Code+Pro">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/css/justifiedGallery.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">


<link rel="stylesheet" href="/css/style.css">


<script defer src="//use.fontawesome.com/releases/v5.0.8/js/all.js"></script>


    
    
    
    
    
    
    
    
    
    
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-20637187-2"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-20637187-2');
</script>


    


<meta name="generator" content="Hexo 5.2.0"></head>
<body>
    
<nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item navbar-logo" href="/">
                
                    
                    Thimble&#39;s blog
                    
                
            </a>
            <div class="navbar-burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        
        <div class="navbar-menu navbar-start">
            
            <a class="navbar-item "
               href="/archives">归档</a>
            
            <a class="navbar-item "
               href="/categories">分类</a>
            
            <a class="navbar-item "
               href="/tags">标签</a>
            
            <a class="navbar-item "
               href="/about">关于</a>
            
        </div>
        
        <div class="navbar-menu navbar-end">
            
            <a class="navbar-item search" title="Search" href="javascript:;">
                <i class="fas fa-search"></i>
            </a>
            
            
            
            <a class="navbar-item" title="GitHub" target="_blank" rel="noopener" href="https://gpthimble.github.com">
                
                <i class="fab fa-github"></i>
                
            </a>
               
            
        </div>
    </div>
</nav>

    <section class="section">
    <div class="container">
    <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            Cache设计与实现 I
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            
                <time datetime="2020-10-26T02:15:25.000Z" itemprop="datePublished">10月 26 2020</time>
            
        </span>
        
        
        <span class="column is-narrow">
            
            
            16 分钟 read (About 2325 words)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <p>&#x672C;&#x4EE5;&#x4E3A;cache&#x7684;&#x8BBE;&#x8BA1;&#x5E76;&#x4E0D;&#x590D;&#x6742;&#xFF0C;&#x4F46;&#x5B9E;&#x9645;&#x8BBE;&#x8BA1;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x6211;&#x9047;&#x5230;&#x4E86;&#x4E0D;&#x5C11;&#x95EE;&#x9898;&#xFF0C;&#x54EA;&#x6015;&#x7A0D;&#x5FAE;&#x8003;&#x8651;&#x4E00;&#x4E0B;&#x6027;&#x80FD;&#x95EE;&#x9898;&#xFF0C;cache&#x7684;&#x8BBE;&#x8BA1;&#x7684;&#x590D;&#x6742;&#x5EA6;&#x5C31;&#x4F1A;&#x63D0;&#x9AD8;&#x5F88;&#x591A;&#x3002;cache&#x7684;&#x590D;&#x6742;&#x4E0E;cpu&#x6307;&#x4EE4;&#x89E3;&#x7801;&#x7EA7;&#x7684;&#x590D;&#x6742;&#x4E0D;&#x540C;&#xFF0C;CPU&#x6307;&#x4EE4;&#x89E3;&#x7801;&#x7EA7;&#x7684;&#x4FE1;&#x53F7;&#x8F83;&#x591A;&#xFF0C;&#x4F46;&#x8FD9;&#x4E9B;&#x4FE1;&#x53F7;&#x4E4B;&#x95F4;&#x5E76;&#x6CA1;&#x6709;&#x592A;&#x591A;&#x7684;&#x5173;&#x8054;&#xFF0C;&#x66F4;&#x591A;&#x7684;&#x662F;&#x4E00;&#x79CD;&#x7EB5;&#x5411;&#x7684;&#x903B;&#x8F91;&#x5173;&#x7CFB;&#xFF0C;&#x4E00;&#x6761;&#x6307;&#x4EE4;&#x5BF9;&#x5E94;&#x4E00;&#x79CD;&#x4FE1;&#x53F7;&#x7EC4;&#x5408;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x8BBE;&#x8BA1;&#x548C;&#x5206;&#x6790;&#x8FC7;&#x7A0B;&#x4E2D;&#x5E76;&#x6CA1;&#x6709;&#x592A;&#x591A;&#x590D;&#x6742;&#x95EE;&#x9898;&#x3002;&#x4F46;cache&#x4E2D;&#x7684;&#x4FE1;&#x53F7;&#x7684;&#x903B;&#x8F91;&#x5173;&#x7CFB;&#x66F4;&#x590D;&#x6742;&#xFF0C;&#x66F4;&#x96BE;&#x7406;&#x6E05;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x82B1;&#x8D39;&#x4E86;&#x5927;&#x91CF;&#x7684;&#x7CBE;&#x529B;&#x53BB;&#x8BBE;&#x8BA1;&#x3002;&#x6211;&#x5F15;&#x5165;cache&#x7684;&#x672C;&#x610F;&#x5E76;&#x4E0D;&#x662F;&#x5355;&#x7EAF;&#x4E3A;&#x4E86;&#x6027;&#x80FD;&#xFF0C;&#x6700;&#x4E3B;&#x8981;&#x7684;&#x539F;&#x56E0;&#x662F;cpu&#x5185;&#x90E8;&#x91C7;&#x7528;&#x7C7B;&#x4F3C;&#x54C8;&#x5F17;&#x67B6;&#x6784;&#xFF0C;&#x9700;&#x8981;&#x5206;&#x79BB;&#x7684;&#x6307;&#x4EE4;&#x548C;&#x6570;&#x636E;&#x5B58;&#x50A8;&#xFF0C;&#x5F15;&#x5165;cache&#x53EF;&#x4EE5;&#x5728;CPU&#x89C6;&#x89D2;&#x6784;&#x6210;&#x5206;&#x79BB;&#x7684;&#x6307;&#x4EE4;&#x548C;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x3002;&#x4F46;&#x4EBA;&#x7684;&#x91CE;&#x5FC3;&#x603B;&#x662F;&#x8D8A;&#x6765;&#x8D8A;&#x5927;&#xFF0C;&#x5F53;&#x4F60;&#x4E86;&#x89E3;&#x4E86;&#x7B80;&#x5355;&#x7684;cache&#x5982;&#x4F55;&#x8BBE;&#x8BA1;&#x4E4B;&#x540E;&#xFF0C;&#x603B;&#x662F;&#x60F3;&#x80FD;&#x4E0D;&#x80FD;&#x518D;&#x4E00;&#x6B21;&#x63D0;&#x9AD8;&#x6027;&#x80FD;&#xFF0C;&#x54EA;&#x6015;&#x63D0;&#x9AD8;&#x4E00;&#x70B9;&#x70B9;&#x3002;&#x4E8E;&#x662F;&#x6211;&#x539F;&#x672C;&#x8BA1;&#x5212;&#x7684;&#x76F4;&#x63A5;&#x6620;&#x50CF;&#x7684;cache&#x5C31;&#x53D8;&#x6210;&#x4E86;&#x73B0;&#x5728;&#x8BBE;&#x8BA1;&#x7684;2&#x8DEF;&#x7EC4;&#x76F8;&#x8054;cache&#x3002;Cache&#x7684;&#x8BBE;&#x8BA1;&#x662F;&#x76EE;&#x524D;&#x6211;&#x5728;&#x6574;&#x4E2A;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x8FC7;&#x7A0B;&#x4E2D;&#x9047;&#x5230;&#x7684;<strong>&#x6700;&#x6709;&#x6311;&#x6218;&#x6027;</strong>&#x7684;&#x5DE5;&#x4F5C;&#x3002;</p>
<h2 id="Cache-&#x8BBE;&#x8BA1;&#x65F6;&#x9047;&#x5230;&#x7684;&#x95EE;&#x9898;"><a href="#Cache-&#x8BBE;&#x8BA1;&#x65F6;&#x9047;&#x5230;&#x7684;&#x95EE;&#x9898;" class="headerlink" title="Cache &#x8BBE;&#x8BA1;&#x65F6;&#x9047;&#x5230;&#x7684;&#x95EE;&#x9898;"></a>Cache &#x8BBE;&#x8BA1;&#x65F6;&#x9047;&#x5230;&#x7684;&#x95EE;&#x9898;</h2><h3 id="Altera&#x7247;&#x4E0A;&#x5B58;&#x50A8;&#x63A5;&#x53E3;&#x4E0A;&#x9690;&#x542B;&#x7684;&#x5BC4;&#x5B58;&#x5668;"><a href="#Altera&#x7247;&#x4E0A;&#x5B58;&#x50A8;&#x63A5;&#x53E3;&#x4E0A;&#x9690;&#x542B;&#x7684;&#x5BC4;&#x5B58;&#x5668;" class="headerlink" title="Altera&#x7247;&#x4E0A;&#x5B58;&#x50A8;&#x63A5;&#x53E3;&#x4E0A;&#x9690;&#x542B;&#x7684;&#x5BC4;&#x5B58;&#x5668;"></a>Altera&#x7247;&#x4E0A;&#x5B58;&#x50A8;&#x63A5;&#x53E3;&#x4E0A;&#x9690;&#x542B;&#x7684;&#x5BC4;&#x5B58;&#x5668;</h3><p>&#x6211;&#x5728;cache&#x8BBE;&#x8BA1;&#x4E2D;&#x9047;&#x5230;&#x7684;&#x95EE;&#x9898;&#x4E4B;&#x4E00;&#x662F;&#x5173;&#x4E8E;FPGA&#x7247;&#x4E0A;&#x8D44;&#x6E90;&#x7684;&#x95EE;&#x9898;&#xFF0C;Altera&#x7247;&#x4E0A;&#x5B58;&#x50A8;&#x4E2D;&#x51E0;&#x6761;&#x8F93;&#x5165;&#x7684;&#x5730;&#x5740;&#x7EBF;&#x548C;&#x6570;&#x636E;&#x7EBF;&#x90FD;&#x662F;&#x5FC5;&#x987B;registered&#x7684;&#xFF0C;&#x8FD9;&#x5C31;&#x610F;&#x5473;&#x7740;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x7247;&#x4E0A;&#x7684;&#x5B58;&#x50A8;&#x5B9E;&#x73B0;cache&#xFF0C;IF&#x7EA7;PC&#x5BC4;&#x5B58;&#x5668;&#x5B9E;&#x9645;&#x4E0A;&#x5E94;&#x8BE5;&#x9690;&#x542B;&#x5728;I-cache&#x6A21;&#x5757;&#x5185;&#x90E8;&#xFF0C;EXE&#x548C;MEM&#x7EA7;&#x7684;&#x6D41;&#x6C34;&#x7EBF;&#x5BC4;&#x5B58;&#x5668;&#x4E2D;&#x5305;&#x542B;&#x5185;&#x5B58;&#x5730;&#x5740;&#x3001;&#x6570;&#x636E;&#x548C;&#x63A7;&#x5236;&#x7684;&#x90E8;&#x5206;&#x4E5F;&#x5E94;&#x8BE5;&#x9690;&#x542B;&#x5728;D-cache&#x7684;&#x5185;&#x90E8;&#xFF0C;&#x8FD9;&#x5B9E;&#x9645;&#x4E0A;&#x7ED9;&#x6A21;&#x5757;&#x5316;&#x8BBE;&#x8BA1;&#x5E26;&#x6765;&#x4E86;&#x56F0;&#x96BE;&#x3002;&#xFF08;Quartus II Handbook Version 9.1 Volume 1: Design and Synthesis, Chapter 6: Recommended HDL Coding Styles, Inferring Memory Function from HDL Code&#xFF09;&#x5982;&#x679C;&#x5728;cpu&#x8BBE;&#x8BA1;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x5FFD;&#x7565;&#x8FD9;&#x9690;&#x542B;&#x7684;&#x5BC4;&#x5B58;&#x5668;&#xFF0C;&#x4F1A;&#x989D;&#x5916;&#x5F15;&#x5165;&#x81F3;&#x5C11;&#x4E00;&#x4E2A;&#x5468;&#x671F;&#x7684;&#x65F6;&#x5EF6;&#x3002;&#x4F46;cache&#x7684;&#x8BBE;&#x8BA1;&#x76EE;&#x6807;&#x662F;&#x8981;&#x6C42;&#x5728;&#x547D;&#x4E2D;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5FC5;&#x987B;&#x5728;&#x4E00;&#x4E2A;&#x5468;&#x671F;&#x7ED9;&#x51FA;&#x6570;&#x636E;&#x548C;&#x6307;&#x4EE4;&#xFF0C;&#x6240;&#x4EE5;&#x9690;&#x542B;&#x7684;&#x5BC4;&#x5B58;&#x5668;&#x5FC5;&#x987B;&#x52A0;&#x5165;&#x8003;&#x8651;&#x3002;</p>
<h3 id="Cache&#x7684;&#x4E00;&#x81F4;&#x6027;&#x95EE;&#x9898;"><a href="#Cache&#x7684;&#x4E00;&#x81F4;&#x6027;&#x95EE;&#x9898;" class="headerlink" title="Cache&#x7684;&#x4E00;&#x81F4;&#x6027;&#x95EE;&#x9898;"></a>Cache&#x7684;&#x4E00;&#x81F4;&#x6027;&#x95EE;&#x9898;</h3><p>&#x53E6;&#x5916;Altera&#x7684;&#x7247;&#x4E0A;&#x5B58;&#x50A8;&#x4E0D;&#x652F;&#x6301;&#x6E05;&#x96F6;&#xFF08;Quartus II Handbook Version 9.1 Volume 1: Design and Synthesis, Chapter 6: Recommended HDL Coding Styles, Inferring Memory Function from HDL Code&#xFF09;&#xFF0C;&#x8FD9;&#x7ED9;&#x5B9E;&#x73B0;cache&#x6E05;&#x96F6;&#x6307;&#x4EE4;&#x5E26;&#x6765;&#x4E86;&#x56F0;&#x96BE;&#xFF1A;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x7247;&#x4E0A;&#x5B58;&#x50A8;&#x6765;&#x5B9E;&#x73B0;cache&#xFF0C;&#x4E0D;&#x80FD;&#x6E05;&#x96F6;&#x4F7F;&#x5F97;&#x5B9E;&#x73B0;cache&#x6E05;&#x96F6;&#x6307;&#x4EE4;&#x6709;&#x56F0;&#x96BE;&#xFF0C;&#x800C;&#x5982;&#x679C;&#x6CA1;&#x6709;cache&#x6E05;&#x96F6;&#x6307;&#x4EE4;&#xFF0C;&#x7F13;&#x5B58;&#x540C;&#x6B65;&#x7684;&#x95EE;&#x9898;&#x5C31;&#x9700;&#x8981;&#x5B8C;&#x5168;&#x7531;&#x786C;&#x4EF6;&#x89E3;&#x51B3;&#x3002;&#x8FD9;&#x53C8;&#x8BA9;&#x6211;&#x601D;&#x8003;&#x662F;&#x5426;&#x5F15;&#x5165;&#x603B;&#x7EBF;&#x76D1;&#x542C;&#xFF08;bus snooping&#xFF09;&#x3002;&#x6709;&#x4EBA;&#x8BA4;&#x4E3A;&#x6211;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x5355;&#x6838;&#x5FC3;&#x5355;&#x7EA7;cache&#x7684;&#x7CFB;&#x7EDF;&#x4E0D;&#x9700;&#x8981;&#x8003;&#x8651;cache&#x4E00;&#x81F4;&#x6027;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x8FD9;&#x6837;&#x7684;&#x60F3;&#x6CD5;&#x4E0D;&#x5B8C;&#x5168;&#x6B63;&#x786E;&#x3002;&#x8003;&#x8651;&#x8FD9;&#x4E24;&#x79CD;&#x60C5;&#x51B5;&#xFF1A;&#x4E00;&#x662F;&#x81EA;&#x4FEE;&#x6539;&#x4EE3;&#x7801;&#xFF08;Self-Modifying code&#xFF09;&#x95EE;&#x9898;&#xFF0C;&#x8BBE;&#x60F3;&#x6709;&#x4E00;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5728;&#x7CFB;&#x7EDF;&#x4E0A;&#x8FD0;&#x884C;&#xFF0C;&#x5C06;&#x67D0;&#x4E2A;&#x7A0B;&#x5E8F;&#x6307;&#x4EE4;&#x4ECE;&#x786C;&#x76D8;&#x52A0;&#x8F7D;&#x5230;&#x5185;&#x5B58;&#xFF0C;&#x6267;&#x884C;&#x4E00;&#x7CFB;&#x5217;LW&#x64CD;&#x4F5C;&#x3002;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4ECE;&#x786C;&#x76D8;&#x8BFB;&#x53D6;&#x4E00;&#x4E32;&#x6307;&#x4EE4;&#xFF0C;&#x653E;&#x5165;&#x5185;&#x5B58;&#x7684;&#x67D0;&#x4E00;&#x4F4D;&#x7F6E;&#xFF0C;&#x6070;&#x597D;&#x8986;&#x76D6;&#x4E86;&#x4E4B;&#x524D;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x6307;&#x4EE4;&#x3002;&#x6B64;&#x65F6;&#x82E5;I-cache&#x5DF2;&#x7ECF;&#x7F13;&#x5B58;&#x8FC7;&#x8FD9;&#x4E00;&#x533A;&#x57DF;&#xFF0C;I-cache&#x6839;&#x672C;&#x4E0D;&#x77E5;&#x9053;LW&#x6307;&#x4EE4;&#x5DF2;&#x7ECF;&#x4FEE;&#x6539;&#x4E86;&#x8FD9;&#x90E8;&#x5206;&#x5185;&#x5B58;&#x6570;&#x636E;&#xFF0C;&#x8FD9;&#x5C31;&#x4F1A;&#x5F15;&#x8D77;cache&#x4E00;&#x81F4;&#x6027;&#x7684;&#x95EE;&#x9898;&#x3002;&#x5F53;CPU&#x8DF3;&#x8F6C;&#x5230;&#x8FD9;&#x4E2A;&#x533A;&#x57DF;&#xFF0C;I-cache&#x8BA4;&#x4E3A;&#x547D;&#x4E2D;&#xFF0C;&#x5B9E;&#x9645;&#x6267;&#x884C;&#x7684;&#x662F;&#x65E7;&#x6307;&#x4EE4;&#x800C;&#x4E0D;&#x662F;&#x6211;&#x4EEC;&#x901A;&#x8FC7;LW&#x8F7D;&#x5165;&#x7684;&#x65B0;&#x6307;&#x4EE4;&#x3002;&#x4E8C;&#x662F;DMA&#x95EE;&#x9898;&#xFF0C;&#x5F53;&#x603B;&#x7EBF;&#x4E0A;&#x6709;DMA&#x8BF7;&#x6C42;&#x53D1;&#x751F;&#x65F6;&#xFF0C;DMA&#x8BBE;&#x5907;&#x76F4;&#x63A5;&#x4FEE;&#x6539;&#x67D0;&#x4E9B;&#x533A;&#x57DF;&#x7684;&#x5185;&#x5B58;&#xFF0C;&#x800C;Cache&#x5E76;&#x4E0D;&#x77E5;&#x9053;&#xFF0C;&#x8FD9;&#x540C;&#x6837;&#x4F1A;&#x5F15;&#x8D77;&#x7F13;&#x5B58;&#x4E00;&#x81F4;&#x6027;&#x95EE;&#x9898;&#x3002;</p>
<p>&#x7B2C;&#x4E8C;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;MIPS&#x5904;&#x7406;&#x5668;&#x91C7;&#x53D6;&#x4E00;&#x79CD;&#x7B80;&#x5355;&#x7C97;&#x66B4;&#x7684;&#x529E;&#x6CD5;&#x6765;&#x89E3;&#x51B3;&#xFF0C;&#x5C31;&#x662F;&#x5728;&#x5185;&#x5B58;&#x5730;&#x5740;&#x7A7A;&#x95F4;&#x4E2D;&#x5355;&#x72EC;&#x5212;&#x51FA;&#x6765;&#x4E00;&#x90E8;&#x5206;&#x4E0D;&#x88AB;cache&#x7D22;&#x5F15;&#xFF0C;&#x6BCF;&#x5F53;&#x5904;&#x7406;&#x5668;&#x8BD5;&#x56FE;&#x83B7;&#x53D6;&#x8FD9;&#x4E2A;&#x5730;&#x5740;&#x8303;&#x56F4;&#x5185;&#x7684;&#x6570;&#x636E;&#x6216;&#x6307;&#x4EE4;&#x65F6;&#xFF0C;&#x90FD;&#x7ED5;&#x8FC7;cache&#xFF0C;&#x4ECE;&#x5185;&#x5B58;&#x4E0A;&#x8BF7;&#x6C42;&#x3002;&#x4F46;&#x662F;&#x7B2C;&#x4E00;&#x79CD;&#x60C5;&#x51B5;&#x8981;&#x9EBB;&#x70E6;&#x4E00;&#x4E9B;&#xFF0C;&#x56E0;&#x4E3A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8981;&#x9891;&#x7E41;&#x7684;&#x5C06;&#x7A0B;&#x5E8F;&#x7684;&#x6307;&#x4EE4;&#x5199;&#x5165;&#x5185;&#x5B58;&#xFF0C;&#x6211;&#x4EEC;&#x4E0D;&#x80FD;&#x603B;&#x662F;&#x628A;&#x80FD;&#x81EA;&#x6211;&#x4FEE;&#x6539;&#x7684;&#x6307;&#x4EE4;&#x90E8;&#x5206;&#x653E;&#x5165;&#x8FD9;&#x4E2A;&#x7ED5;&#x8FC7;cache&#x7684;&#x5730;&#x5740;&#x7A7A;&#x95F4;&#x5185;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#x5927;&#x90E8;&#x5206;&#x7A0B;&#x5E8F;&#x90FD;&#x5F97;&#x4E0D;&#x5230;cache&#x7684;&#x901F;&#x5EA6;&#x4F18;&#x52BF;&#xFF0C;&#x8FD8;&#x4E0D;&#x5982;&#x4E0D;&#x5F15;&#x5165;cache&#x3002;</p>
<h4 id="&#x81EA;&#x4FEE;&#x6539;&#x4EE3;&#x7801;-&#xFF08;Self-Modifying-Code&#xFF09;"><a href="#&#x81EA;&#x4FEE;&#x6539;&#x4EE3;&#x7801;-&#xFF08;Self-Modifying-Code&#xFF09;" class="headerlink" title="&#x81EA;&#x4FEE;&#x6539;&#x4EE3;&#x7801; &#xFF08;Self-Modifying Code&#xFF09;"></a>&#x81EA;&#x4FEE;&#x6539;&#x4EE3;&#x7801; &#xFF08;Self-Modifying Code&#xFF09;</h4><p>&#x5982;&#x4F55;&#x641E;&#x5B9A;&#x8FD9;&#x7B2C;&#x4E8C;&#x79CD;&#x60C5;&#x51B5;&#xFF1F;&#x662F;&#x76F4;&#x63A5;&#x5728;&#x786C;&#x4EF6;&#x4E0A;&#x63D0;&#x4F9B;&#x7F13;&#x5B58;&#x4E00;&#x81F4;&#x6027;&#x7684;&#x652F;&#x6301;&#xFF1F;&#x8FD8;&#x662F;&#x52A0;&#x5165;&#x4E00;&#x4E9B;&#x7F13;&#x5B58;&#x540C;&#x6B65;&#x6307;&#x4EE4;&#x5728;&#x5FC5;&#x8981;&#x7684;&#x65F6;&#x5019;&#x7531;&#x7CFB;&#x7EDF;&#x8F6F;&#x4EF6;&#x7F16;&#x5199;&#x8005;&#x5BF9;cache&#x8FDB;&#x884C;&#x7BA1;&#x7406;&#xFF0C;&#x5982;&#x5728;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x52A0;&#x8F7D;&#x65B0;&#x8FDB;&#x7A0B;&#x7684;&#x65F6;&#x5019;&#x624B;&#x52A8;&#x6E05;&#x7A7A;I-cache&#xFF1F;&#x6211;&#x53C2;&#x8003;&#x4E86;&#x4E00;&#x4E9B;&#x8D44;&#x6599;&#x3002;</p>
<p>&#x663E;&#x7136;&#x4E0D;&#x540C;&#x5E73;&#x53F0;&#x5BF9;&#x81EA;&#x4FEE;&#x6539;&#x4EE3;&#x7801;&#x5E26;&#x6765;&#x7684;&#x7F13;&#x5B58;&#x4E0D;&#x4E00;&#x81F4;&#x95EE;&#x9898;&#x7684;&#x5904;&#x7406;&#x65B9;&#x5F0F;&#x4E0D;&#x540C;&#x3002;</p>
<p>X86&#x5E73;&#x53F0;&#x7684;cache&#x4E00;&#x81F4;&#x6027;&#x673A;&#x5236;&#x6BD4;&#x8F83;&#x590D;&#x6742;&#xFF0C;&#x4ECE;&#x67D0;&#x79CD;&#x610F;&#x4E49;&#x4E0A;&#x8BB2;&#xFF0C;&#x53EA;&#x8981;&#x4F7F;&#x7528;&#x8005;&#x6B63;&#x5E38;&#x4F7F;&#x7528;&#x5904;&#x7406;&#x5668;&#xFF0C;&#x4E0D;&#x5173;&#x95ED;cache&#xFF0C;cache&#x7684;&#x4E00;&#x81F4;&#x6027;&#x95EE;&#x9898;&#x5BF9;&#x7A0B;&#x5E8F;&#x5458;&#x5B8C;&#x5168;&#x900F;&#x660E;&#x3002;&#x5728;&#x770B;minix&#x4EE3;&#x7801;&#x7684;&#x65F6;&#x5019;&#x6211;&#x5C31;&#x610F;&#x8BC6;&#x5230;&#x4E86;&#x8FD9;&#x4E00;&#x70B9;&#x3002;&#x6211;&#x770B;&#x5B8C;&#x6574;&#x4E2A;&#x542F;&#x52A8;&#x5668;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x91CC;&#x9762;&#x914D;&#x5408;BIOS&#x4E2D;&#x65AD;&#x8FDB;&#x884C;&#x4E86;&#x5927;&#x91CF;DMA&#x64CD;&#x4F5C;&#xFF0C;&#x4ECE;&#x78C1;&#x76D8;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x5230;&#x5185;&#x5B58;&#xFF0C;&#x4ECE;&#x6765;&#x6CA1;&#x6709;&#x5728;&#x4EE3;&#x7801;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x51FA;&#x73B0;&#x7BA1;&#x7406;cache&#x7684;&#x6307;&#x4EE4;&#x3002;&#x81EA;&#x4FEE;&#x6539;&#x4EE3;&#x7801;&#x5728;Bootloader&#x4E2D;&#x4E5F;&#x662F;&#x968F;&#x5904;&#x53EF;&#x89C1;&#xFF0C;&#x7B2C;&#x4E00;&#x5904;&#x5C31;&#x51FA;&#x73B0;&#x5728;master boot&#x7684;&#x5F00;&#x5934;&#xFF0C;&#x5C06;BIOS&#x4ECE;MBR&#x78C1;&#x76D8;&#x7B2C;&#x4E00;&#x6247;&#x533A;&#x7684;&#x4E3B;&#x542F;&#x52A8;&#x8BB0;&#x5F55;&#xFF08;Master boot record&#xFF09;512&#x5B57;&#x8282;&#x7684;&#x4EE3;&#x7801;&#x901A;&#x8FC7;BIOS&#x4E2D;&#x65AD;&#x62F7;&#x8D1D;&#x5230;&#x5185;&#x5B58;&#x540E;&#xFF0C;<a target="_blank" rel="noopener" href="http://www.os-forum.com/minix/boot/masterboot.php#">&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;</a>&#x5C06;&#x81EA;&#x8EAB;&#x590D;&#x5236;&#x5230;&#x5176;&#x4ED6;&#x7684;&#x533A;&#x57DF;&#xFF0C;&#x5E76;&#x8DF3;&#x8F6C;&#x5230;&#x8FD9;&#x91CC;&#x3002;&#x8FD9;&#x4E8B;&#x5F88;&#x5178;&#x578B;&#x7684;&#x81EA;&#x4FEE;&#x6539;&#x4EE3;&#x7801;&#x3002;</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">! Code from minix 3.1 master boot record: masterboot.s (line 46-53).</span><br><span class="line">! Copy this code to safety, then jump to it.</span><br><span class="line">	mov	si, sp			! si = start of this code</span><br><span class="line">	push	si			! Also where we&apos;ll return to eventually</span><br><span class="line">	mov	di, #BUFFER		! Buffer area</span><br><span class="line">	mov	cx, #512/2		! One sector</span><br><span class="line">	cld</span><br><span class="line">  rep	movs</span><br><span class="line">	jmpf	BUFFER+migrate, 0	! To safety</span><br></pre></td></tr></table></figure>

<p>&#x53EF;&#x4EE5;&#x6E05;&#x695A;&#x7684;&#x770B;&#x5230;&#xFF0C;&#x5728;&#x7F16;&#x5199;X86&#x6C47;&#x7F16;&#x7A0B;&#x5E8F;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x7A0B;&#x5E8F;&#x5458;&#x4E0D;&#x9700;&#x8981;&#x8003;&#x8651;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x662F;&#x81EA;&#x4FEE;&#x6539;&#x4EE3;&#x7801;&#x800C;&#x5F15;&#x8D77;&#x7684;&#x7F13;&#x5B58;&#x95EE;&#x9898;&#x3002;&#x53EF;&#x662F;&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x5728;rep movs&#x6267;&#x884C;&#x65F6;&#xFF0C;&#x540E;&#x7EED;&#x7684;&#x6307;&#x4EE4;&#x5DF2;&#x7ECF;&#x52A0;&#x8F7D;&#x8FDB;&#x5165;&#x6D41;&#x6C34;&#x7EBF;&#x4E86;&#x3002;&#x663E;&#x7136;&#x6D41;&#x6C34;&#x7EBF;&#x4E2D;&#x7684;&#x65E7;&#x6307;&#x4EE4;&#x9700;&#x8981;&#x88AB;&#x5E9F;&#x5F03;&#x3002;</p>
<p>&#x67E5;&#x770B;X86&#x7CFB;&#x7EDF;&#x7F16;&#x7A0B;&#x624B;&#x518C;&#xFF08;Intel software developer&#x2019;s manual Volume 3A: System Programming Guide 11-18&#xFF09; 11.6 Self-Modifying Code , &#x53EF;&#x4EE5;&#x770B;&#x5230;&#x4ECE;&#x5954;&#x817E;&#x56DB;&#x5F00;&#x59CB;&#xFF0C;x86&#x5904;&#x7406;&#x5668;&#x5DF2;&#x7ECF;&#x5728;&#x6D41;&#x6C34;&#x7EBF;&#x548C;cache&#x786C;&#x4EF6;&#x4E0A;&#x505A;&#x4E86;&#x4E00;&#x81F4;&#x6027;&#x673A;&#x5236;&#xFF0C;&#x53EA;&#x8981;&#x662F;&#x4F7F;&#x7528;&#x540C;&#x4E00;&#x7269;&#x7406;&#x5730;&#x5740;&#x8BBF;&#x95EE;&#x7684;&#x5185;&#x5B58;&#xFF0C;&#x786C;&#x4EF6;&#x63D0;&#x4F9B;&#x4E00;&#x81F4;&#x6027;&#x652F;&#x6301;&#x3002;X86&#x4E0D;&#x4EC5;&#x5728;cache&#x4E2D;&#x5B9E;&#x73B0;&#x4E86;&#x5199;&#x8BF7;&#x6C42;&#x76D1;&#x542C;&#xFF0C;&#x800C;&#x4E14;&#x8FD8;&#x5728;&#x6D41;&#x6C34;&#x7EBF;&#x4E2D;&#x5E9F;&#x5F03;&#x5DF2;&#x7ECF;&#x9884;&#x53D6;&#x7684;&#x6307;&#x4EE4;&#x3002;</p>
<blockquote>
<h4 id="11-6-Self-Modifying-Code"><a href="#11-6-Self-Modifying-Code" class="headerlink" title="11.6 Self-Modifying Code"></a>11.6 Self-Modifying Code</h4><p>A write to a memory location in a code segment that is currently cached in the processor causes the associated cache line (or lines) to be invalidated. This check is based on the physical address of the instruction. In addition, the P6 family and Pentium processors check whether a write to a code segment may modify an instruction that has been prefetched for execution. If the write affects a prefetched instruction, the prefetch queue is invalidated. This latter check is based on the linear address of the instruction. For the Pentium 4 and Intel Xeon processors, a write or a snoop of an instruction in a code segment, where the target instruction is already decoded and resident in the trace cache, invalidates the entire trace cache. The latter behavior means that programs that self-modify code can cause severe degradation of performance when run on the Pentium 4 and Intel Xeon processors.</p>
<p>In practice, the check on linear addresses should not create compatibility problems among IA-32 processors. Appli- cations that include self-modifying code use the same linear address for modifying and fetching the instruction. Systems software, such as a debugger, that might possibly modify an instruction using a different linear address than that used to fetch the instruction, will execute a serializing operation, such as a CPUID instruction, before the modified instruction is executed, which will automatically resynchronize the instruction cache and prefetch queue. (See Section 8.1.3, &#x201C;Handling Self- and Cross-Modifying Code,&#x201D; for more information about the use of self-modifying code.)</p>
</blockquote>
<p>&#x5404;&#x4E2A;&#x5E73;&#x53F0;&#x5BF9;&#x81EA;&#x4FEE;&#x6539;&#x4EE3;&#x7801;&#x7684;&#x652F;&#x6301;&#x4E0D;&#x540C;&#x3002;</p>
<p><a target="_blank" rel="noopener" href="https://blog.senr.io/blog/why-is-my-perfectly-good-shellcode-not-working-cache-coherency-on-mips-and-arm">&#x8FD9;&#x7BC7;&#x535A;&#x5BA2;</a>&#x5BF9;&#x8DEF;&#x7531;&#x5668;&#x4E2D;&#x5E7F;&#x6CDB;&#x4F7F;&#x7528;&#x7684;MIPS&#x5904;&#x7406;&#x5668;&#x8FDB;&#x884C;&#x4E86;&#x6D4B;&#x8BD5;&#xFF0C;&#x53D1;&#x73B0;&#x5176;&#x5E76;&#x6CA1;&#x6709;&#x5B9E;&#x73B0;&#x81EA;&#x4FEE;&#x6539;&#x4EE3;&#x7801;&#x7684;&#x7F13;&#x5B58;&#x540C;&#x6B65;&#x673A;&#x5236;&#x3002;&#x7531;Stackoverflow&#x4E0A;&#x7684;<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/10989403/how-is-x86-instruction-cache-synchronized">&#x8BA8;&#x8BBA;</a>,PowerPC&#x4E5F;&#x6CA1;&#x6709;&#x5B9E;&#x73B0;&#x8FD9;&#x4E2A;&#x673A;&#x5236;&#xFF0C;&#x8981;&#x6C42;&#x7CFB;&#x7EDF;&#x8F6F;&#x4EF6;&#x8BBE;&#x8BA1;&#x8005;&#x4ECE;&#x8F6F;&#x4EF6;&#x5C42;&#x9762;&#x7EF4;&#x62A4;&#x7F13;&#x5B58;&#x7684;&#x4E00;&#x81F4;&#x6027;&#x3002;</p>
<blockquote>
<p>3.3.1.2.1 Self-Modifying Code</p>
<p>When a processor modifies any memory location that can contain an instruction, software must ensure that the instruction cache is made consistent with data memory and that the modifications are made visible to the instruction fetching mechanism. This must be done even if the cache is disabled or if the page is marked caching-inhibited.</p>
</blockquote>

    
    </div>
    
    
    <div class="columns is-mobile is-multiline article-nav">
        <span class="column is-12-mobile is-half-desktop is-hidden-mobile article-nav-prev">
            
        </span>
        <span class="column is-12-mobile is-half-desktop  article-nav-next">
            
            <a href="/%E6%80%BB%E7%BA%BF%E6%8E%A7%E5%88%B6%E5%99%A8%E8%AE%BE%E8%AE%A1/">总线控制器设计</a>
            
        </span>
    </div>
    
</article>


<div class="sharebox">
    
<div class="sharethis-inline-share-buttons"></div>
<script type='text/javascript' src='true' async='async'></script>

</div>





    <script src='https://unpkg.com/mermaid@8.8.0/dist/mermaid.min.js'></script>
    <script>
      if (window.mermaid) {
        mermaid.initialize({theme: 'forest'});
      }
    </script>
  

   
	<div id="gitalk-container"></div>  
	
<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">

	
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

    <script src="https://rawgit.com/qhh0205/78e9e0b1f3114db6737f3ed8cdd51d3a/raw/3894c5be5aa2378336b1f5ee0f296fa0b22d06e9/md5.min.js"></script>
	<script type="text/javascript">
		var gitalk = new Gitalk({
		  clientID: 'ad6ae0a709b4ba94e7a1',  // 这里一定要注意主题 config.yml 中 clientID 的大小写，否则参数传不过来，对应下边的 "问题一"
		  clientSecret: '5cffb7b459889f3bd15131de8ce1d28cd1316871',
		  repo: 'gpthimble.github.io',
		  owner: 'gpthimble',
		  admin: 'gpthimble',
		  id: md5(location.pathname),      // 保持默认，官方注释（Ensure uniqueness and length less than 50），文章 URL 不能太长 "问题二"
		  distractionFreeMode: false  // 不喜欢评论时候的遮盖层所以选择 false ，而且我觉得这个也没有必要放在 config.yml 中配置
		})
  
	gitalk.render('gitalk-container')
	</script>
  
    </div>
</section>
    <footer class="footer">
    <div class="container">
        <div class="columns content">
            <div class="column is-narrow has-text-centered">
                &copy; 2020 Thimble&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a
                        target="_blank" rel="noopener" href="http://github.com/ppoffice/hexo-theme-minos">Minos</a>
            </div>
            <div class="column is-hidden-mobile"></div>

            
            <div class="column is-narrow">
                <div class="columns is-mobile is-multiline is-centered">
                
                    
                <a class="column is-narrow has-text-black" title="GitHub" target="_blank" rel="noopener" href="https://gpthimble.github.com">
                    
                    GitHub
                    
                </a>
                
                </div>
            </div>
            
            
<div class="column is-narrow has-text-centered">
    <div class="dropdown is-up is-right is-hoverable" style="margin-top: -0.2em;">
        <div class="dropdown-trigger">
            <button class="button is-small" aria-haspopup="true" aria-controls="dropdown-menu7">
                <span class="icon">
                    <i class="fas fa-globe"></i>
                </span>
                <span>zh-CN</span>
                <span class="icon is-small">
            <i class="fas fa-angle-down" aria-hidden="true"></i>
          </span>
            </button>
        </div>
        <div class="dropdown-menu has-text-left" role="menu">
            <div class="dropdown-content">
            
                <a href="/Cache%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/" class="dropdown-item">
                    zh-CN
                </a>
            
                <a href="/en/Cache%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0/" class="dropdown-item">
                    English
                </a>
            
            </div>
        </div>
    </div>
</div>

        </div>
    </div>
</footer>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script>

<!-- test if the browser is outdated -->
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" target="_blank" rel="noopener" href="http://outdatedbrowser.com/">Update my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.js"></script>
<script>
    $(document).ready(function () {
        // plugin function, place inside DOM ready function
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        })
    });
</script>

<script>
    window.FontAwesomeConfig = {
        searchPseudoElements: true
    }
    moment.locale("zh-CN");
</script>


    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script>
    MathJax.Hub.Config({
        "HTML-CSS": {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
</script>

    
    
    
    
<script src="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/js/lightgallery-all.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/js/jquery.justifiedGallery.min.js"></script>
<script>
    (function ($) {
        $(document).ready(function () {
            if (typeof($.fn.lightGallery) === 'function') {
                $('.article.gallery').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof($.fn.justifiedGallery) === 'function') {
                $('.justified-gallery').justifiedGallery();
            }
        });
    })(jQuery);
</script>

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <style>
        .hljs {
            position: relative;
        }

        .hljs .clipboard-btn {
            float: right;
            color: #9a9a9a;
            background: none;
            border: none;
            cursor: pointer;
        }

        .hljs .clipboard-btn:hover {
          color: #8a8a8a;
        }

        .hljs > .clipboard-btn {
            display: none;
            position: absolute;
            right: 4px;
            top: 4px;
        }

        .hljs:hover > .clipboard-btn {
            display: inline;
        }

        .hljs > figcaption > .clipboard-btn {
            margin-right: 4px;
        }
    </style>
    <script>
      $(document).ready(function () {
        $('figure.hljs').each(function(i, figure) {
          var codeId = 'code-' + i;
          var code = figure.querySelector('.code');
          var copyButton = $('<button>Copy <i class="far fa-clipboard"></i></button>');
          code.id = codeId;
          copyButton.addClass('clipboard-btn');
          copyButton.attr('data-clipboard-target-id', codeId);

          var figcaption = figure.querySelector('figcaption');

          if (figcaption) {
            figcaption.append(copyButton[0]);
          } else {
            figure.prepend(copyButton[0]);
          }
        })

        var clipboard = new ClipboardJS('.clipboard-btn', {
          target: function(trigger) {
            return document.getElementById(trigger.getAttribute('data-clipboard-target-id'));
          }
        });
        clipboard.on('success', function(e) {
          e.clearSelection();
        })
      })
    </script>

    
    

    



<script src="/js/script.js"></script>


    
    <div class="searchbox ins-search">
    <div class="searchbox-mask"></div>
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>

<script src="/js/insight.js"></script>

    
</body>
</html>